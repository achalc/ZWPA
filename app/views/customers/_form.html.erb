<%= simple_nested_form_for(@customer, html: { class: 'form-horizontal', class: 'formtext' }) do |customer_form| %>
  
  <% if @customer.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this client from being saved:</h2>

      <ul>
      <% @customer.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <!-- took away user_id input and set it to always be user_id=1 in the controller -->

  <div class="row">
      <div class="span7">
        <fieldset>
          <legend>Customer</legend>

    <%= customer_form.label :company_name %><br>
    <%= customer_form.text_field :company_name %>
  </div>

    <div class="span7">
      <fieldset>
      <legend>Request</legend>
        <div id="requests">
        <%= simple_nested_form_for @customer do |f| %>
           <%= f.fields_for :requests do |request_form| %>
              <%= request_form.hidden_field :customer_id, input_html: {value: @cus_id}%>
              First Name: (required for request form to save) <%= request_form.text_field :contact_firstname %>
              Last Name: <%= request_form.text_field :contact_lastname %>
              Title: <%= request_form.text_field :title %>
              Email: <%= request_form.text_field :email %>
              Phone: <%= request_form.text_field :phone %>
              Street Address: <%= request_form.text_field :street_address %>
              City: <%= request_form.text_field :city %>
              Zip: <%= request_form.text_field :zip_code %>
              Date: <%= request_form.input :date, as: :string, input_html: { class: 'datepicker', placeholder: "Enter  Date"} %>
          <% end %>
          <% end %> 
          <p>
            <br />
          </p>
        </div> 
        </fieldset>
      </div>

  <div class="actions">
    <%= customer_form.submit "Save", class: 'button small' %>
  </div>
  </div>
<% end %>
